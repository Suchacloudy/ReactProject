import{s as d,B as ee,j as l,a as n,Q as ne,b as te,A as oe,T as re,I as ie,d as ae,c as R,i as L,e as le,p as v,f as N,l as T,g as j,D as se,h as W,L as ce,k as y,m as b,n as de,o as D,q as $,r as ue,t as fe,C as ge,u as M,v as w,w as me,x as J,y as P,z as A,E as Ce,F as he,G as _,H as pe,J as ve,K as ye,M as be,N as g,O as z,P as De,R as ke,S as we,U as Be,V as Se}from"./vendor.d414eb3a.js";const Te=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};Te();const Ae=e=>typeof e=="string",xe=e=>typeof e=="number",Oe=(e,r="all")=>t=>Array.isArray(t)&&(r==="all"?(i=>{for(const o of i)if(!e(o))return!1;return!0})(t):typeof t[0]=="undefined"||e(t[0])),Ee=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Q=e=>r=>e.reduce((t,i)=>t||i(r),!1),Fe=(e,r="all")=>Oe(t=>Ee(t)&&"value"in t&&Ae(t.value)&&"id"in t&&xe(t.id)&&"checked"in t&&(i=>Q([o=>o===!1,o=>o===!0])(i))(t.checked)&&"removed"in t&&(i=>Q([o=>o===!1,o=>o===!0])(i))(t.removed),r)(e),Ie=d(ee)(({theme:e})=>({zIndex:e.zIndex.drawer+1,color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.8)"})),Re=e=>l(Ie,{open:e.open,onClick:e.onClose,children:[" ",n(ne,{value:"https://dingding.studio"})]}),Le=e=>{const r=t=>{switch(t){case"all":return"\uBAA8\uB4E0 \uD560\uC77C";case"unchecked":return"\uD604\uC7AC \uD560\uC77C";case"checked":return"\uC644\uB8CC\uB41C \uD560\uC77C";case"removed":return"\uD734\uC9C0\uD1B5";default:return"\uD560\uC77C"}};return n(te,{sx:{flexGrow:1},children:n(oe,{position:"static",children:l(re,{children:[n(ie,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:e.onToggleDrawer,children:n(ae,{})}),n(R,{children:r(e.filter)})]})})})},Ne="todo",je="\uD560\uC77C App (PWA)",We="\uD560\uC77C \uAD00\uB9AC \uC571",$e="0.1.0",Me="http://Suchacloudy.github.io/todo",Je={dev:"vite",build:"tsc && vite build",serve:"vite preview"},Pe={"@emotion/react":"^11.7.0","@emotion/styled":"^11.6.0","@fontsource/roboto":"^4.5.1","@mui/icons-material":"^5.2.0","@mui/material":"^5.2.2",localforage:"^1.10.0",react:"^17.0.0","react-dom":"^17.0.0","react-qrcode-logo":"^2.5.0"},_e={"@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@vitejs/plugin-react":"^1.0.0",typescript:"^4.3.2",vite:"^2.6.4","vite-plugin-pwa":"^0.11.10"};var ze={name:Ne,productName:je,description:We,version:$e,homepage:Me,scripts:Je,dependencies:Pe,devDependencies:_e};const Qe=d("div")(()=>({width:250})),Ue=d("div")(()=>({height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",backgroundColor:L[500],color:"#ffffff",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),qe=d(le)(({theme:e})=>({backgroundColor:v[500],width:e.spacing(6),height:e.spacing(6)})),Ge=d(N)(()=>({color:T[500]})),Ke=d(j)(()=>({color:v.A200})),He=e=>n(se,{variant:"temporary",open:e.drawerOpen,onClose:e.onToggleDrawer,children:l(Qe,{role:"presentation",onClick:e.onToggleDrawer,children:[l(Ue,{children:[n(qe,{children:n(W,{})}),l("p",{children:["\uD560\uC77C v",ze.version]})]}),l(ce,{children:[l(y,{button:!0,onClick:()=>e.onSort("all"),"aria-label":"all",children:[n(b,{children:n(de,{})}),n(D,{secondary:"\uBAA8\uB4E0 \uD560\uC77C"})]}),l(y,{button:!0,onClick:()=>e.onSort("unchecked"),"aria-label":"incomplete",children:[n(b,{children:n(Ge,{})}),n(D,{secondary:"\uD604\uC7AC \uD560\uC77C"})]}),l(y,{button:!0,onClick:()=>e.onSort("checked"),"aria-label":"complete",children:[n(b,{children:n(Ke,{})}),n(D,{secondary:"\uC644\uB8CC\uB41C \uD560\uC77C"})]}),l(y,{button:!0,onClick:()=>e.onSort("removed"),"aria-label":"removed",children:[n(b,{children:n($,{})}),n(D,{secondary:"\uD734\uC9C0\uD1B5"})]}),n(ue,{}),l(y,{button:!0,onClick:e.onToggleQR,"aria-label":"share",children:[n(b,{children:n(fe,{})}),n(D,{secondary:"\uC774 \uC571 \uACF5\uC720\uD558\uAE30"})]})]})]})}),Ve=d("div")({margin:"0 auto",maxWidth:"640px",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"}),Xe=d(ge)(({theme:e})=>({marginTop:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2),padding:e.spacing(1),fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),Ye=d("div")(({theme:e})=>({marginTop:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),fontSize:"16px"})),Ze=d("div")(({theme:e})=>({marginTop:e.spacing(1),display:"flex",flexDirection:"row",justifyContent:"space-between"})),en=d("button")(()=>({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:"none",border:"none",cursor:"pointer",outline:"none"})),nn=d("button")(()=>({background:"none",border:"none",cursor:"pointer",outline:"none"})),tn=e=>{const r=e.todos.filter(t=>{switch(e.filter){case"all":return!t.removed;case"checked":return t.checked&&!t.removed;case"unchecked":return!t.checked&&!t.removed;case"removed":return t.removed;default:return t}});return n(Ve,{children:r.map(t=>l(Xe,{children:[n(Ye,{children:n(M,{fullWidth:!0,variant:"standard",value:t.value,onChange:i=>e.onEdit(t.id,i.target.value),disabled:t.checked||t.removed})}),l(Ze,{children:[l(en,{onClick:()=>e.onCheck(t.id,t.checked),disabled:e.filter==="removed","aria-label":"check",children:[t.checked?n(j,{style:{color:e.filter!=="removed"?v.A200:w[500]}}):n(N,{style:{color:e.filter!=="removed"?T[500]:w[500]}}),n(R,{style:{userSelect:"none",color:t.checked&&e.filter!=="removed"?v.A200:w[500]},children:"\uC644\uB8CC"})]}),n(nn,{onClick:()=>e.onRemove(t.id,t.removed),"aria-label":"trash",children:t.removed?n(me,{style:{color:T[500]}}):n($,{style:{color:w[500]}})})]})]},t.id))})},on=e=>n(J,{fullWidth:!0,open:e.dialogOpen,onClose:e.onToggleDialog,children:n("form",{onSubmit:r=>{r.preventDefault(),e.onSubmit()},children:l("div",{style:{margin:"1em"},children:[n(M,{variant:"standard",style:{width:"100%",fontSize:"16px",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"},label:"\uD560\uC77C \uC785\uB825...",onChange:r=>e.onChange(r),value:e.text,autoFocus:!0}),n(P,{children:n(A,{color:"secondary",onClick:e.onSubmit,"aria-label":"add",children:"\uCD94\uAC00"})})]})})}),rn=d(J)(()=>({fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"})),an=e=>l(rn,{open:e.alertOpen,onClose:e.onToggleAlert,children:[n(Ce,{children:"\uACBD\uACE0"}),l(he,{children:[n(_,{children:"\uD734\uC9C0\uD1B5\uC744 \uC644\uC804\uD788 \uBE44\uC6B0\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}),n(_,{children:"\uC774\uB97C \uC2E4\uD589\uC2DC \uCDE8\uC18C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."})]}),l(P,{children:[n(A,{onClick:e.onToggleAlert,color:"primary","aria-label":"cancel",children:"\uCDE8\uC18C"}),n(A,{onClick:()=>{e.onToggleAlert(),e.onEmpty()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"\uD655\uC778"})]})]}),U=d(pe)({position:"fixed",right:15,bottom:15}),ln=e=>{const r=e.todos.filter(t=>t.removed).length!==0;return n(ve,{children:e.filter==="removed"?n(U,{"aria-label":"delete-button",color:"secondary",onClick:e.onToggleAlert,disabled:!r||e.alertOpen,children:n(ye,{})}):n(U,{"aria-label":"add-button",color:"secondary",onClick:e.onToggleDialog,disabled:e.filter==="checked"||e.dialogOpen,children:n(W,{})})})},sn=be({palette:{primary:{main:L[500],light:"#757de8",dark:"#002984"},secondary:{main:v[500],light:"#ff6090",dark:"#b0003a"}}}),cn=()=>{const[e,r]=g.exports.useState(""),[t,i]=g.exports.useState([]),[o,s]=g.exports.useState("all"),[c,C]=g.exports.useState(!1),[h,u]=g.exports.useState(!1),[k,q]=g.exports.useState(!1),[B,S]=g.exports.useState(!1),x=()=>C(!c),O=()=>u(!h),E=()=>q(!k),F=()=>{S(!B),r("")},G=a=>{r(a.target.value)},K=()=>{if(!e){S(!1);return}const a={value:e,id:new Date().getTime(),checked:!1,removed:!1};i([a,...t]),r(""),S(!1)},H=(a,m)=>{const p=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.value=m),f));i(p)},V=(a,m)=>{const p=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.checked=!m),f));i(p)},X=(a,m)=>{const p=JSON.parse(JSON.stringify(t)).map(f=>(f.id===a&&(f.removed=!m),f));i(p)},Y=()=>{const a=t.filter(m=>!m.removed);i(a)},Z=a=>{s(a)};return g.exports.useEffect(()=>{z.getItem("todo-20210101").then(a=>Fe(a)&&i(a)).catch(a=>console.error(a))},[]),g.exports.useEffect(()=>{z.setItem("todo-20210101",t).catch(a=>console.error(a))},[t]),l(De,{theme:sn,children:[n(ke,{styles:{body:{margin:0,padding:0}}}),n(Le,{filter:o,onToggleDrawer:E}),n(He,{drawerOpen:k,onSort:Z,onToggleQR:x,onToggleDrawer:E}),n(Re,{open:c,onClose:x}),n(on,{text:e,dialogOpen:B,onChange:G,onSubmit:K,onToggleDialog:F}),n(an,{alertOpen:h,onEmpty:Y,onToggleAlert:O}),n(tn,{todos:t,filter:o,onEdit:H,onCheck:V,onRemove:X}),n(ln,{todos:t,filter:o,alertOpen:h,dialogOpen:B,onToggleAlert:O,onToggleDialog:F})]})};function dn(e={}){const{immediate:r=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:o,onRegisterError:s}=e;let c,C;const h=async(u=!0)=>{u&&(c==null||c.addEventListener("controlling",k=>{k.isUpdate&&window.location.reload()})),C&&C.waiting&&await Be(C.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){c=new we("/sw.js",{scope:"/"}),c.addEventListener("activated",u=>{u.isUpdate||i==null||i()});{const u=()=>{t==null||t()};c.addEventListener("waiting",u),c.addEventListener("externalwaiting",u)}c.register({immediate:r}).then(u=>{C=u,o==null||o(u)}).catch(u=>{s==null||s(u)})}return h}Se.render(n(cn,{}),document.getElementById("root"));dn();
